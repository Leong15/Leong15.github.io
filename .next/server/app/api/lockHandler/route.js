(()=>{var e={};e.id=757,e.ids=[757],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},33873:e=>{"use strict";e.exports=require("path")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},31421:e=>{"use strict";e.exports=require("node:child_process")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},73024:e=>{"use strict";e.exports=require("node:fs")},51455:e=>{"use strict";e.exports=require("node:fs/promises")},48161:e=>{"use strict";e.exports=require("node:os")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},7066:e=>{"use strict";e.exports=require("node:tty")},57975:e=>{"use strict";e.exports=require("node:util")},61004:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>h,routeModule:()=>y,serverHooks:()=>b,workAsyncStorage:()=>P,workUnitAsyncStorage:()=>C});var s={};t.r(s),t.d(s,{POST:()=>V});var a=t(42706),i=t(28203),u=t(45994),o=t(39187),n=t(54697),l=t(32263),c=t(45473),d=t(95922),p=t(82571),m=t(22548),k=t(62010),v=t(72767),A=t(30082),g=t(35067),w=t(67291),f=t(89771),F=t(80996),x=t(26338);let q={Homepage:{db:n.A.sales_referral_user,usernameField:"staff_no",activeField:"active",lockValue:!1,unlockValue:!0},BEAR:{db:l.A.user,usernameField:"username",activeField:"inactive",lockValue:1,unlockValue:0},"Score Card":{db:g.A.user,usernameField:"login_id",activeField:"active",lockValue:!1,unlockValue:!0},KB:{db:k.A.users,usernameField:"username",activeField:"active",lockValue:"0",unlockValue:"1"},"E-Claim":{db:p.A.users,usernameField:"username",activeField:"active",lockValue:"0",unlockValue:"1"},"CSM Log":{db:d.A.users,usernameField:"Userid",activeField:"locked",lockValue:"T",unlockValue:"F"},"Voice Portal":{db:f.A.users,usernameField:"username",activeField:"active",lockValue:"F",unlockValue:"T"},SkyExchange:{db:w.A.user,usernameField:"staffID",activeField:"active",lockValue:!1,unlockValue:!0},"Cpc portal":{db:c.A.users,usernameField:"username",activeField:"active",lockValue:!1,unlockValue:!0},"eform RPA Portal":{db:A.A.users,usernameField:"username",activeField:"active",lockValue:!1,unlockValue:!0},"CCS eLog Portal":{db:m.A.user,usernameField:"login",activeField:"active",lockValue:!1,unlockValue:!0},"Order SLA Portal":{db:v.A.users,usernameField:"username",activeField:"active",lockValue:!1,unlockValue:!0},"Duty Logging":{db:F.A.user,usernameField:"login",activeField:"active",lockValue:!1,unlockValue:!0},"e-Order Request Portal":{db:x.A.user,usernameField:"login",activeField:"active",lockValue:!1,unlockValue:!0},"eLearning Portal":{db:l.A.mooc_staff,usernameField:"staffID",activeField:"active",lockValue:!1,unlockValue:!0}};async function V(e){try{let{userid:r,portalName:t,action:s}=await e.json(),a=q[t];if(!a)return o.NextResponse.json({error:`Invalid portal name: ${t}`},{status:400});let i="locked"===s?a.lockValue:a.unlockValue,u={[a.usernameField]:r},n={[a.activeField]:i},l=await a.db.updateMany({where:u,data:n});if(0===l.count)return o.NextResponse.json("Unsuccessful !\n"+r+" do not have an "+t+" account.",{status:404});return o.NextResponse.json(r+"'s "+t+" account has been "+s,{status:200})}catch(e){return o.NextResponse.json({error:`Sorry something happened! ${e.message}`},{status:500})}}let y=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/lockHandler/route",pathname:"/api/lockHandler",filename:"route",bundlePath:"app/api/lockHandler/route"},resolvedPagePath:"Y:\\account_management\\src\\app\\api\\lockHandler\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:P,workUnitAsyncStorage:C,serverHooks:b}=y;function h(){return(0,u.patchFetch)({workAsyncStorage:P,workUnitAsyncStorage:C})}},96487:()=>{},78335:()=>{},32263:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(69639)).PrismaClient({log:["query","info","warn","error"],datasources:{db:{url:process.env.BEAR_DATABASE_URL}}})},26338:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(72395)).PrismaClient({log:["query","info","warn","error"]})},45473:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(77104)).PrismaClient({log:["query","info","warn","error"]})},95922:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(18912)).PrismaClient({log:["query","info","warn","error"]})},80996:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(33146)).PrismaClient({log:["query","info","warn","error"]})},22548:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(67980)).PrismaClient({log:["query","info","warn","error"],datasources:{db:{url:process.env.CCS_ELOG_DATABASE_URL}}})},82571:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(4539)).PrismaClient({log:["query","info","warn","error"]})},54697:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(36097)).PrismaClient({log:["query","info","warn","error"]})},62010:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(51820)).PrismaClient({log:["query","info","warn","error"]})},72767:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(66990)).PrismaClient({log:["query","info","warn","error"]})},30082:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(35599)).PrismaClient({log:["query","info","warn","error"]})},35067:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(81353)).PrismaClient({log:["query","info","warn","error"]})},67291:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(11932)).PrismaClient({log:["query","info","warn","error"]})},89771:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(25702)).PrismaClient({log:["query","info","warn","error"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,452,495],()=>t(61004));module.exports=s})();