(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{88868:(e,a,t)=>{Promise.resolve().then(t.bind(t,83659))},75589:(e,a,t)=>{"use strict";t.d(a,{A:()=>u});var n=t(95155),r=t(12115),l=t(12488),s=t(70152),i=t(11441),o=t(894),d=t(31798),c=t(9313);let u=e=>{let{value:a,onChange:t,placeholder:u}=e,[g,_]=(0,r.useState)(!1);return(0,n.jsx)(l.default,{mt:2,children:(0,n.jsx)(s.A,{className:"loginInputField",id:"password_input",label:u,value:a,onChange:t,placeholder:u,type:g?"text":"password",variant:"outlined",autoComplete:"current-password",slotProps:{input:{endAdornment:(0,n.jsx)(i.A,{position:"end",children:(0,n.jsx)(o.A,{"aria-label":"toggle password visibility",onClick:()=>_(e=>!e),edge:"end",children:g?(0,n.jsx)(d.A,{}):(0,n.jsx)(c.A,{})})})}}})})}},83659:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var n=t(95155),r=t(12115),l=t(2615),s=t(64665),i=t(63551),o=t(42479),d=t(9561),c=t(69841),u=t(12488),g=t(80906),_=t(10897),h=t(70152);let x=e=>{let{value:a,onChange:t}=e;return(0,n.jsx)(u.default,{mt:2,children:(0,n.jsx)(h.A,{className:"loginInputField",id:"username_input",value:a,onChange:t,label:"Username",placeholder:"Username",variant:"outlined",required:!0})})};var m=t(75589),p=t(22282);let f=()=>(0,n.jsx)(p.A,{id:"loginbtn",size:"large",variant:"contained",type:"submit",children:"Login"});var j=t(78416),b=t(36417),v=t(50454),C=t.n(v);let A=e=>{let{onClose:a,open:t}=e,[l,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),c=async e=>{try{let t=await fetch("/api/forgetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();alert(e),a()}else alert("Create Unsuccessful, Please try again later.")}catch(e){alert("Create Unsuccessful, Please try again later."),console.error("Error:",e)}};return(0,n.jsxs)(j.A,{onClose:()=>{a()},open:t,children:[(0,n.jsx)(b.A,{className:C().title,children:"Forget Password"}),(0,n.jsxs)(u.default,{className:C().container,children:[(0,n.jsx)(d.default,{className:C().userlabel,variant:"body1",children:"Username:"}),(0,n.jsx)(h.A,{className:C().userinputfield,id:"username",label:"Username",variant:"outlined",onChange:e=>s(e.target.value)}),(0,n.jsx)(d.default,{className:C().emaillabel,children:"Email: "}),(0,n.jsx)(h.A,{className:C().emailinputfield,id:"email",type:"email",label:"Email",variant:"outlined",onChange:e=>o(e.target.value)})]}),(0,n.jsx)(u.default,{className:C().resetBtnContainer,children:(0,n.jsx)(p.A,{className:C().resetBtn,onClick:()=>c({username:l,email:i}),children:(0,n.jsx)("b",{children:"Reset"})})})]})},w=()=>{let[e,a]=(0,r.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.A,{id:"forgetbtn",size:"small",variant:"outlined",onClick:()=>{a(!0)},children:"Forget Password"}),(0,n.jsx)(A,{open:e,onClose:()=>{a(!1)}})]})};var N=t(7667),P=t.n(N);let y=()=>{let[e,a]=(0,r.useState)(""),[t,h]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),{status:b}=(0,l.useSession)(),[v,C]=r.useState(!0);if((0,r.useEffect)(()=>{"authenticated"===b&&(window.location.href="/staff_accounts_info")},[b]),"loading"===b)return(0,n.jsx)("p",{children:"Loading..."});let A=async a=>{a.preventDefault();let n=await (0,l.signIn)("credentials",{redirect:!1,username:e,password:t});(null==n?void 0:n.error)?(j(null==n?void 0:n.error),C(!0)):window.location.href="/staff_accounts_info"};return(0,n.jsx)("div",{className:P().loginContainer,style:{backgroundImage:'url("background.png")'},children:(0,n.jsx)("form",{onSubmit:A,children:(0,n.jsxs)(s.default,{className:P().loginCard,children:[(0,n.jsx)(i.A,{title:"Account Management Portal",sx:{textAlign:"center"}}),(0,n.jsx)(o.default,{className:P().cardContent,children:(0,n.jsxs)(d.default,{component:"div",variant:"body2",color:"textSecondary",children:[(0,n.jsx)(x,{value:e,onChange:e=>a(e.target.value)}),(0,n.jsx)(m.A,{value:t,onChange:e=>h(e.target.value),placeholder:"Password"})]})}),(0,n.jsx)(c.A,{className:P().cardActions,children:(0,n.jsxs)(u.default,{className:P().btnBox,children:[(0,n.jsx)(w,{}),(0,n.jsx)(f,{}),p&&(0,n.jsx)(g.A,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:v,onClose:()=>{C(!1)},autoHideDuration:1500,children:(0,n.jsx)(_.A,{severity:"error",variant:"filled",sx:{width:"100%"},children:(0,n.jsx)("b",{children:p})})},"bottomcenter")]})})]})})})}},50454:e=>{e.exports={title:"ForgetPasswordDialog_title___rhq_",container:"ForgetPasswordDialog_container__pP6Jf",userlabel:"ForgetPasswordDialog_userlabel__bF_gI",userinputfield:"ForgetPasswordDialog_userinputfield__sZM80",emaillabel:"ForgetPasswordDialog_emaillabel__xijhO",emailinputfield:"ForgetPasswordDialog_emailinputfield__Z6bDK",resetBtnContainer:"ForgetPasswordDialog_resetBtnContainer__7LBAm",resetBtn:"ForgetPasswordDialog_resetBtn__qyNtL"}},7667:e=>{e.exports={loginContainer:"Login_loginContainer__1R3cl",loginCard:"Login_loginCard__tCKbE",cardHeader:"Login_cardHeader__t_Tdn",cardContent:"Login_cardContent__39YuA",cardActions:"Login_cardActions__uBOgS",btnBox:"Login_btnBox__PrpaX"}}},e=>{var a=a=>e(e.s=a);e.O(0,[5200,41,595,947,3318,2615,3115,8493,8441,1517,7358],()=>a(88868)),_N_E=e.O()}]);